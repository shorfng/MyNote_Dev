> 当前位置：【Java】09_Architecture_Distributed（分布式架构） -> 9.4_Zookeeper（分布式协调服务）



# 第一章 Zookeeper 下载安装和配置

## 0、Zookeeper 下载

- 官网下载：http://zookeeper.apache.org/releases.html#download



## 1、Docker - Zookeeper 安装和配置

- Docker-Zookeeper 官网地址：https://hub.docker.com/_/zookeeper

  

### 1.1 拉取镜像

```shell
docker pull zookeeper:3.7.0
```



### 1.2 备份镜像

```shell
cd /docker_data/
docker save zookeeper:3.7.0 -o zookeeper:3.7.0.tar
```



### 1.3 导入镜像

```shell
docker load -i zookeeper:3.7.0.tar
```



### 1.4 Linux 创建并运行容器



### 1.5 Mac 创建并运行容器

#### （1）创建文件夹

```shell
# 创建文件夹
mkdir -p /Users/td/Documents/03_DevTools/docker_data/zookeeper/{data,logs,conf}
```

#### （2）创建 zoo.cfg

- 此文件夹下创建 /Users/td/Documents/03_DevTools/docker_data/zookeeper/conf

```properties
# The number of milliseconds of each tick
tickTime=2000

# The number of ticks that the initial 
# synchronization phase can take
initLimit=10

# The number of ticks that can pass between 
# sending a request and getting an acknowledgement
syncLimit=5

# the directory where the snapshot is stored.
# do not use /tmp for storage, /tmp here is just 
# example sakes.
dataDir=/data
dataLogDir=/logs

# the port at which the clients will connect
clientPort=2181

# the maximum number of client connections.
# increase this if you need to handle more clients
#maxClientCnxns=60


# Be sure to read the maintenance section of the 
# administrator guide before turning on autopurge.
#
# http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance

# The number of snapshots to retain in dataDir
#autopurge.snapRetainCount=3

# Purge task interval in hours
# Set to "0" to disable auto purge feature
#autopurge.purgeInterval=1

## Metrics Providers
#
# https://prometheus.io Metrics Exporter
#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider
#metricsProvider.httpPort=7000
#metricsProvider.exportJvmInfo=true
```



#### （3）创容器命令

```bash
cd /Users/td/Documents/03_DevTools/docker_data/zookeeper/

docker run -itd --name zookeeper --restart always -p 2181:2181 -v $(pwd)/conf/zoo.cfg:/conf/zoo.cfg  -v $(pwd)/data/:/data/ -v $(pwd)/logs:/logs zookeeper:3.7.0
```



## 2、Linux系统 - Zookeeper 安装和配置

- TODO



## 3、Win系统 - Zookeeper 安装和配置

- TODO



## 4、Mac系统 - Zookeeper 安装和配置

- TODO

